(()=>{"use strict";const e=document.querySelector(".temperature__number"),t=document.querySelector(".temperature__info"),n=document.querySelector(".temperature__sunstate"),r=document.querySelector("#mainWeatherIcon");function o(o){e.innerText=function(e){a.celsius=e.current.temp_c,a.fahrenheit=e.current.temp_f;for(let e of c)if(e.checked)return console.log(a[e.id]),a[e.id]+s[e.id]}(o),t.children[0].innerText=`${o.location.name}, ${o.location.country}`,n.children[0].innerText="Sunrise: "+o.forecast.forecastday[0].astro.sunrise,n.children[1].innerText="Sunset: "+o.forecast.forecastday[0].astro.sunset,r.src=o.current.condition.icon}const c=document.querySelectorAll(".temperature-button"),a={celsius:0,fahrenheit:0},s={celsius:"℃",fahrenheit:"°F"};for(const t of c)t.addEventListener("click",(t=>{e.innerText=a[t.target.id]+s[t.target.id]}));async function i(e){try{const t=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=8875a932605d4a86b91230215241001&q=${e.location}&days=7&aqi=yes&alerts=no`,{mode:"cors"}),n=await t.json();return console.log(n),n}catch(e){console.error(e)}}const l=document.querySelectorAll(".forecast__day"),u=document.querySelector("#celsius"),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Fryday","Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Fryday","Saturday"],y=(new Date).getDay();function h(e){const t=e.forecast.forecastday;if(u.checked)for(let e=0;e<6;e++)l[e].children[0].src=t[e+1].day.condition.icon,l[e].children[1].innerText=t[e+1].day.avgtemp_c+"℃",l[e].children[2].innerText=d[y+e+1];else for(let e=0;e<7;e++)l[e].children[0].src=t[e+1].day.condition.icon,l[e].children[1].innerText=t[e+1].day.avgtemp_f+"°F",l[e].children[2].innerText=d[y+e+1]}console.log(y);const f=document.querySelector(".search-form"),m=document.querySelector(".search-bar");let S;f.addEventListener("submit",(e=>{e.preventDefault(),S=m.value.trim(),m.value=null,i({location:S}).then((e=>{var t;console.log("Celsius:",e.current.temp_c),console.log("Fahrenheit:",e.current.temp_f),t=e.location.name,localStorage.setItem("last location",t),o(e),h(e)})).catch(console.error)})),i({location:localStorage.getItem("last location")}).then((e=>{o(e),h(e)})).catch(console.error)})();